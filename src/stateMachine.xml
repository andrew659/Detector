<?xml version="1.0" encoding="UTF-8" ?>
<!--
	untitled
	Created by Liu Yepang on 2011-06-15.
	Copyright (c) 2011 . All rights reserved.
-->
<machine>
	<states>
		<state>
			<no>1</no>
			<name>General</name>
		</state>
		<state>
			<no>2</no>
			<name>Outdoor</name>
		</state>
		<state>
			<no>3</no>
			<name>Office</name>
		</state>
		<state>
			<no>4</no>
			<name>Jogging</name>
		</state>
		<state>
			<no>5</no>
			<name>Driving</name>
		</state>
		<state>
			<no>6</no>
			<name>DrivingFast</name>
		</state>
		<state>
			<no>7</no>
			<name>Home</name>
		</state>
		<state>
			<no>8</no>
			<name>Meeting</name>
		</state>
		<state>
			<no>9</no>
			<name>Sync</name>
		</state>
	</states>
	<cvs>
		<cv>
			<no>1</no>
			<name>Agps</name>
			<type>GPS_Valid</type>
			<operator>=</operator>
			<target>1</target>	
		</cv>
		<cv>
			<no>2</no>
			<name>Bgps</name>
			<type>GPS_Location</type>
			<operator>=</operator>
			<target>home</target>	
		</cv>
		<cv>
			<no>3</no>
			<name>Cgps</name>
			<type>GPS_Location</type>
			<operator>=</operator>
			<target>office</target>	
		</cv>
		<cv>
			<no>4</no>
			<name>Dgps</name>
			<type>GPS_Speed</type>
			<operator>></operator>
			<target>5</target>	
		</cv>
		<cv>
			<no>5</no>
			<name>Egps</name>
			<type>GPS_Speed</type>
			<operator>></operator>
			<target>70</target>	
		</cv>
		<cv>
			<no>6</no>
			<name>Abt</name>
			<type>BT</type>
			<operator>=</operator>
			<target>car_handsfree</target>	
		</cv>
		<cv>
			<no>7</no>
			<name>Bbt</name>
			<type>BT</type>
			<operator>=</operator>
			<target>home_pc</target>	
		</cv>
		<cv>
			<no>8</no>
			<name>Cbt</name>
			<type>BT</type>
			<operator>=</operator>
			<target>office_pc</target>	
		</cv>
		<cv>
			<no>9</no>
			<name>Dbt</name>
			<type>BT</type>
			<operator>=</operator>
			<target>office_pc_*</target>	
		</cv>
		<cv>
			<no>10</no>
			<name>Ebt</name>
			<type>BT_Count</type>
			<operator>>=</operator>
			<target>3</target>	
		</cv>
		<cv>
			<no>11</no>
			<name>At</name>
			<type>Time</type>
			<operator>>=</operator>
			<target>meeting_start</target>	
		</cv>
		<cv>
			<no>12</no>
			<name>Bt</name>
			<type>Time</type>
			<operator>>=</operator>
			<target>meeting_end</target>	
		</cv>
	</cvs>
	<rules>
		<rule>
			<no>1</no>
			<name>ActivateOutdoor</name>
			<currentStateNo>1</currentStateNo>
			<predicate>
				<boolFunc> <!--Agps && !Bgps && !Cgps-->
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>2</no>
						<form>0</form>
						<conn>1</conn>
					</atom>
					<atom>
						<no>3</no>
						<form>0</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>	<!--no more boolean function, formulae in () is counted as a boolean function-->	
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>2</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>2</no>
			<name>DeactivateOutdoor</name>
			<currentStateNo>2</currentStateNo>
			<predicate>
				<boolFunc> <!--!(Agps && !Bgps && !Cgps)-->
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>2</no>
						<form>0</form>
						<conn>1</conn>
					</atom>
					<atom>
						<no>3</no>
						<form>0</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>0</value>
			</predicate>
			<newStateNo>1</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>3</no>
			<name>ActivateJogging</name>
			<currentStateNo>2</currentStateNo>
			<predicate>
				<boolFunc> <!--Agps && Dgps-->
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>4</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>4</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>4</no>
			<name>DeactivateJogging</name>
			<currentStateNo>4</currentStateNo>
			<predicate>
				<boolFunc> <!--!(Agps && Dgps)-->
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>4</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>		
				</boolFunc>
				<value>0</value>
			</predicate>
			<newStateNo>2</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>5</no>
			<name>ActivateDriving</name>
			<currentStateNo>1</currentStateNo>
			<predicate>
				<boolFunc> <!--Abt-->
					<atom>
						<no>6</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>-1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<conn>-1</conn>		
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>5</newStateNo>
			<priority>1</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>6</no>
			<name>ActivateDriving</name>
			<currentStateNo>2</currentStateNo>
			<predicate>
				<boolFunc> <!--Abt-->
					<atom>
						<no>6</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>-1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>5</newStateNo>
			<priority>1</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>7</no>
			<name>ActivateDriving</name>
			<currentStateNo>3</currentStateNo>
			<predicate>
				<boolFunc> <!--Abt-->
					<atom>
						<no>6</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>-1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>5</newStateNo>
			<priority>1</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>8</no>
			<name>ActivateDriving</name>
			<currentStateNo>7</currentStateNo>
			<predicate>
				<boolFunc> <!--Abt-->
					<atom>
						<no>6</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>-1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<conn>-1</conn>		
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>5</newStateNo>
			<priority>1</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>9</no>
			<name>DeactivateDriving</name>
			<currentStateNo>5</currentStateNo>
			<predicate>
				<boolFunc> <!--!Abt-->
					<atom>
						<no>6</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>-1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<conn>-1</conn>		
				</boolFunc>
				<value>0</value>
			</predicate>
			<newStateNo>1</newStateNo>
			<priority>1</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>10</no>
			<name>ActivateDrivingFast</name>
			<currentStateNo>5</currentStateNo>
			<predicate>
				<boolFunc> <!--Agps && Egps-->
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>5</no>
						<form>1</form>
						<conn>-1</conn>	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>6</newStateNo>
			<priority>0</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>11</no>
			<name>DeactivateDrivingFast</name>
			<currentStateNo>6</currentStateNo>
			<predicate>
				<boolFunc> <!--!(Agps && Egps)-->
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>5</no>
						<form>1</form>
						<conn>-1</conn>	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>0</value>
			</predicate>
			<newStateNo>5</newStateNo>
			<priority>0</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>12</no>
			<name>ActivateHome</name>
			<currentStateNo>1</currentStateNo>
			<predicate> <!--Bbt || (Agps && Bgps)-->
				<boolFunc>
					<atom>
						<no>7</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>0</conn>
				</boolFunc>
				<boolFunc> 
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>5</no>
						<form>1</form>
						<conn>-1</conn>	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>7</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>13</no>
			<name>DeactivateHome</name>
			<currentStateNo>7</currentStateNo>
			<predicate> <!--!(Bbt || (Agps && Bgps))-->
				<boolFunc>
					<atom>
						<no>7</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>0</conn>
				</boolFunc>
				<boolFunc> 
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>5</no>
						<form>1</form>
						<conn>-1</conn>	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>0</value>
			</predicate>
			<newStateNo>1</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>14</no>
			<name>ActivateOffice</name>
			<currentStateNo>1</currentStateNo>
			<predicate> <!--Cbt || Dbt || (Agps && Cgps)-->
				<boolFunc>
					<atom>
						<no>8</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>0</conn>
				</boolFunc>
				<boolFunc>
					<atom>
						<no>9</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>0</conn>
				</boolFunc>
				<boolFunc> 
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>3</no>
						<form>1</form>
						<conn>-1</conn>	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>3</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>15</no>
			<name>DeactivateOffice</name>
			<currentStateNo>3</currentStateNo>
			<predicate> <!--!(Cbt || Dbt || (Agps && Cgps))-->
				<boolFunc>
					<atom>
						<no>8</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>0</conn>
				</boolFunc>
				<boolFunc>
					<atom>
						<no>9</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>0</conn>
				</boolFunc>
				<boolFunc> 
					<atom>
						<no>1</no>
						<form>1</form> <!--1 for original, 0 for its negation-->
						<conn>1</conn> <!--1 stands for conjunction, 0 for disjunction, the last one -1-->	
					</atom>
					<atom>
						<no>3</no>
						<form>1</form>
						<conn>-1</conn>	
					</atom>
					<conn>-1</conn>	
				</boolFunc>
				<value>0</value>
			</predicate>
			<newStateNo>1</newStateNo>
			<priority>5</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>16</no>
			<name>ActivateMeeting</name>
			<currentStateNo>3</currentStateNo>
			<predicate> <!--At && Ebt-->
				<boolFunc>
					<atom>
						<no>11</no>
						<form>1</form>
						<conn>1</conn>
					</atom>
					<atom>
						<no>10</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>8</newStateNo>
			<priority>4</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>17</no>
			<name>DeactivateMeeting</name>
			<currentStateNo>8</currentStateNo>
			<predicate> <!--Bt-->
				<boolFunc>
					<atom>
						<no>12</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>3</newStateNo>
			<priority>4</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>18</no>
			<name>ActivateSync</name>
			<currentStateNo>1</currentStateNo>
			<predicate> <!--Bbt && Cbt-->
				<boolFunc>
					<atom>
						<no>7</no>
						<form>1</form>
						<conn>1</conn>
					</atom>
					<atom>
						<no>8</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>
				</boolFunc>
				<value>1</value>
			</predicate>
			<newStateNo>9</newStateNo>
			<priority>9</priority>
			<actions>no</actions>
		</rule>
		<rule>
			<no>19</no>
			<name>DeactivateSync</name>
			<currentStateNo>9</currentStateNo>
			<predicate> <!--!(Bbt && Cbt)-->
				<boolFunc>
					<atom>
						<no>7</no>
						<form>1</form>
						<conn>1</conn>
					</atom>
					<atom>
						<no>8</no>
						<form>1</form>
						<conn>-1</conn>
					</atom>
					<conn>-1</conn>
				</boolFunc>
				<value>0</value>
			</predicate>
			<newStateNo>1</newStateNo>
			<priority>9</priority>
			<actions>no</actions>
		</rule>
	</rules>
</machine>
